# Протокол `/db` (Початок нової сесії)

Цей протокол використовується для ініціалізації нової гілки розмови.

**Тригер:** Команда `/db "текст запиту"` від користувача.
**Семантика:** `/db` відкриває нову сесію у графі `Grynya`.

## Твої дії (Формування JSON для `memory_bridge.py`)

Щоб відкрити сесію, ти маєш згенерувати JSON (згідно з `grynya-schema.md`) та передати його скрипту.

1.  **Створи вузол `:Session`** (блок `session` в JSON) з атрибутами `id`, `name`, `topic` (коротко), `status: 'active'`, `trigger: '/db'`.
2.  **Створи вузол `:Request`** з текстом запиту від користувача.
3.  **Витягни сутності (`:Entity`):** Уважно проаналізуй запит користувача. Витягни **УСІ** значущі концепції, технології чи правила.
5.  **Налаштуй Зв'язки (`relations`):**
    *   Request `PART_OF` Session.
    *   Session `INVOLVES` Entity.
6.  **Налаштуй Хронологію (`chronology`):**
    *   Вкажи поточний рік (`year`), дату (`date`), час (`time`).
    *   Вкажи `day_id` (наприклад, `d_2026_02_22`).
    *   Створи `next_links`:
        *   Від попередньої сесії (`session_X`) до нової (`session_Y`).
        *   Від нової сесії до Request.
    *   Онови `last_event_id` на ID твого Response.

**Виконання:** Передай JSON скрипту `memory_bridge.py` через `run_command`. 

> [!IMPORTANT]
> **Очищення:** Якщо використовувався тимчасовий файл, видали його одразу після завершення `run_command`.
